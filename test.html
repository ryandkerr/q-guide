<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <script src="js/d3.js"></script>
  <script src="js/d3.layout.cloud.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://d3js.org/queue.v1.min.js"></script>

</head>

<body>
<select id="selector">
  <option>All</option>
</select>

<div id="cloud"></div>

<script>
var startHere = function() {
  queue()
    .defer(d3.json, "data/all_courses_all.json")
    .defer(d3.json, "data/all_courses_dept.json")
    .defer(d3.json, "data/all_courses_fam.json")
    .await(dataLoaded);

  function dataLoaded(error, all, dept, fam) {
    console.log(error, all, dept, fam)

    if (!error) {

      // var TEST;
      // var SVG_SIZE = [500, 500];
      // var selected_course = "";
      // var fill = d3.scale.category20();

      // var layout_cloud = function(words) {
      //   d3.layout.cloud()
      //      .size(SVG_SIZE)
      //      .words(words)
      //      .fontSize(function(d) { return wordScale(d.size); })
      //      .on("end", draw)
      //      .start();
      // }

      // var draw = function(words) {
      //   d3.select("#cloud").append("svg")
      //      .attr("width", SVG_SIZE[0])
      //      .attr("height", SVG_SIZE[1])
      //    .append("g")
      //      .attr("transform", "translate(" + SVG_SIZE[0] / 2 + "," + SVG_SIZE[1] / 2 + ")")
      //    .selectAll("text")
      //      .data(words)
      //    .enter().append("text")
      //      .style("font-size", function(d)  { return d.size + "px"; })
      //      .style("font-family", "Impact")
      //      .style("fill", function(d, i) { return fill(i); })
      //      .attr("text-anchor", "middle")
      //      .attr("transform", function(d) {
      //        return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
      //      })
      //      .text(function(d) { return d.text; });
      // }


      // d3.json("data/all_courses_all.json", function(error, data) {
      //   TEST = data;
      //   var COURSE_NAME = "EXPOS 20.241: Paradox in Public Health";

      //   var selected_course;
      //   TEST.forEach(function(d) {
      //     if(d.course == COURSE_NAME) {
      //       selected_course = d;
      //     }
      //   });

      //   var max_size = 0;
      //   selected_course.reviews.forEach(function(d) {
      //     if(d.size > max_size) {
      //       max_size = d.size + .01
      //     }
      //   });

      //   wordScale=d3.scale.linear().domain([0,max_size]).range([10,160]);

      //   layout_cloud(selected_course.reviews);
      // })
    } else {
      console.log("error loading data");
    }
  }
}

startHere();






</script>
</body>
</html>

